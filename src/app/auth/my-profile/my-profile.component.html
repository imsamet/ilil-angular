<div class="relative isolate h-96 bg-black overflow-hidden" *transloco="let t">
     <div
          class="mx-auto max-w-7xl px-6 text-center justify-items-center h-full grid object-center content-center justify-center items-center lg:px-8">
          <h1 class="mt-4 text-3xl z-50 font-bold tracking-tight text-white uppercase sm:text-5xl">
               {{ t("hi") }} <span class="text-zinc-400 hover:text-green-600 cursor-cell duration-700"> {{ user.name }} </span> {{ t("welcome") }}
               <span class="text-green-600"> . </span>
          </h1>
          <p class="mt-4 text-base z-50 text-white/70 sm:mt-6">{{ t("profil1") }}</p>
     </div>
</div>

<div class="mx-auto pt-8 lg:flex gap-x-8 px-8" *transloco="let t">
     <aside class="flex overflow-x-auto border-b border-gray-900/5 py-4 lg:block lg:w-64 lg:flex-none lg:border-0 lg:py-10">
          <nav class="flex-none px-4 sm:px-6 lg:px-0">
               <ul role="list" class="flex gap-x-3 gap-y-2 whitespace-nowrap lg:flex-col">
                    <li *ngIf="showList('general')">
                         <a
                              (click)="changePanel('general')"
                              class="group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold cursor-pointer"
                              [ngClass]="{
                                   'bg-gray-50 text-indigo-600': selectedPanel === 'general',
                                   'text-gray-700 hover:text-indigo-600 hover:bg-gray-50': selectedPanel != 'general'
                              }">
                              <svg
                                   class="h-6 w-6 shrink-0"
                                   xmlns="http://www.w3.org/2000/svg"
                                   height="1.5em"
                                   viewBox="0 0 512 512"
                                   style="fill: #3a3a3a !important">
                                   <path
                                        d="M406.5 399.6C387.4 352.9 341.5 320 288 320H224c-53.5 0-99.4 32.9-118.5 79.6C69.9 362.2 48 311.7 48 256C48 141.1 141.1 48 256 48s208 93.1 208 208c0 55.7-21.9 106.2-57.5 143.6zm-40.1 32.7C334.4 452.4 296.6 464 256 464s-78.4-11.6-110.5-31.7c7.3-36.7 39.7-64.3 78.5-64.3h64c38.8 0 71.2 27.6 78.5 64.3zM256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-272a40 40 0 1 1 0-80 40 40 0 1 1 0 80zm-88-40a88 88 0 1 0 176 0 88 88 0 1 0 -176 0z" />
                              </svg>
                              {{ t("general") }}
                         </a>
                    </li>
                    <li *ngIf="showList('cvs')">
                         <a
                              (click)="changePanel('cvs')"
                              class="group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold cursor-pointer"
                              [ngClass]="{
                                   'bg-gray-50 text-indigo-600': selectedPanel === 'cvs',
                                   'text-gray-700 hover:text-indigo-600 hover:bg-gray-50': selectedPanel != 'cvs'
                              }">
                              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 384 512" style="fill: #3a3a3a !important">
                                   <path
                                        d="M320 464c8.8 0 16-7.2 16-16V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320zM0 64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64z" />
                              </svg>
                              {{ t("myCvs") }}
                         </a>
                    </li>
                    <li *ngIf="showList('jobs')">
                         <a
                              (click)="changePanel('jobs')"
                              class="group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold cursor-pointer"
                              [ngClass]="{
                                   'bg-gray-50 text-indigo-600': selectedPanel === 'jobs',
                                   'text-gray-700 hover:text-indigo-600 hover:bg-gray-50': selectedPanel != 'jobs'
                              }">
                              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 640 512" style="fill: #3a3a3a !important">
                                   <path
                                        d="M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 352h8.2c32.3-39.1 81.1-64 135.8-64c5.4 0 10.7 .2 16 .7V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM320 352H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H360.2C335.1 449.6 320 410.5 320 368c0-5.4 .2-10.7 .7-16l-.7 0zm320 16a144 144 0 1 0 -288 0 144 144 0 1 0 288 0zM496 288c8.8 0 16 7.2 16 16v48h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H496c-8.8 0-16-7.2-16-16V304c0-8.8 7.2-16 16-16z" />
                              </svg>
                              {{ t("myJobs") }}
                         </a>
                    </li>
                    <li *ngIf="showList('projects')">
                         <a
                              (click)="changePanel('projects')"
                              class="group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold cursor-pointer"
                              [ngClass]="{
                                   'bg-gray-50 text-indigo-600': selectedPanel === 'projects',
                                   'text-gray-700 hover:text-indigo-600 hover:bg-gray-50': selectedPanel != 'projects'
                              }">
                              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 384 512" style="fill: #3a3a3a !important">
                                   <path
                                        d="M280 64h40c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128C0 92.7 28.7 64 64 64h40 9.6C121 27.5 153.3 0 192 0s71 27.5 78.4 64H280zM64 112c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320c8.8 0 16-7.2 16-16V128c0-8.8-7.2-16-16-16H304v24c0 13.3-10.7 24-24 24H192 104c-13.3 0-24-10.7-24-24V112H64zm128-8a24 24 0 1 0 0-48 24 24 0 1 0 0 48z" />
                              </svg>
                              {{ t("myProjects") }}
                         </a>
                    </li>
                    <li *ngIf="showList('tenders')">
                         <a
                              (click)="changePanel('tenders')"
                              class="group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold cursor-pointer"
                              [ngClass]="{
                                   'bg-gray-50 text-indigo-600': selectedPanel === 'tenders',
                                   'text-gray-700 hover:text-indigo-600 hover:bg-gray-50': selectedPanel != 'tenders'
                              }">
                              <svg xmlns="http://www.w3.org/2000/svg" height="1.5em" viewBox="0 0 512 512" style="fill: #3a3a3a !important">
                                   <path
                                        d="M318.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-120 120c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l4-4L325.4 293.4l-4 4c-12.5 12.5-12.5 32.8 0 45.3l16 16c12.5 12.5 32.8 12.5 45.3 0l120-120c12.5-12.5 12.5-32.8 0-45.3l-16-16c-12.5-12.5-32.8-12.5-45.3 0l-4 4L330.6 74.6l4-4c12.5-12.5 12.5-32.8 0-45.3l-16-16zm-152 288c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l48 48c12.5 12.5 32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-1.4-1.4L272 285.3 226.7 240 168 298.7l-1.4-1.4z" />
                              </svg>
                              {{ t("myTenders") }}
                         </a>
                    </li>
               </ul>
          </nav>
     </aside>

     <main class="px-4 py-16 sm:px-6 lg:flex-auto lg:px-0 lg:py-10">
          <div class="mx-auto max-w-2xl space-y-8 sm:space-y-10 lg:mx-0 lg:max-w-none">
               <ng-container *ngIf="selectedPanel === 'general'">
                    <h2 class="text-base font-semibold leading-7 text-gray-900">{{ t("profile") }}</h2>
                    <form [formGroup]="profileForm" class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
                         <div class="col-span-full mb-3">
                              <label for="photo" class="block text-sm font-medium leading-6 text-gray-900">{{ t("photo") }}</label>
                              <app-file-uploader
                                   (UploadedFile)="uploadFile($event)"
                                   (_deleteFile)="deleteFile($event)"
                                   [route]="'users'"
                                   [image]="user.avatar ? user.avatar.url : null"
                                   [fileFilter]="'image/*'"></app-file-uploader>
                         </div>
                         <mat-form-field class="sm:col-span-3">
                              <mat-label>{{ t("name") }}</mat-label>
                              <input id="name" matInput [formControlName]="'name'" />
                              <mat-error style="font-size: 12px" *ngIf="formErrors.name">
                                   {{ formErrors.name }}
                              </mat-error>
                         </mat-form-field>
                         <mat-form-field class="sm:col-span-3">
                              <mat-label>{{ t("lastName") }}</mat-label>
                              <input id="lastname" matInput [formControlName]="'lastname'" />
                              <mat-error style="font-size: 12px" *ngIf="formErrors.lastname">
                                   {{ formErrors.lastname }}
                              </mat-error>
                         </mat-form-field>
                         <mat-form-field class="sm:col-span-3">
                              <mat-label>{{ t("birthDate") }}</mat-label>
                              <input
                                   matInput
                                   style="color: #000 !important"
                                   [formControlName]="'birthDate'"
                                   [matDatepicker]="picker1"
                                   disabled
                                   required />
                              <mat-datepicker-toggle matPrefix [for]="picker1"></mat-datepicker-toggle>
                              <mat-datepicker #picker1 disabled="false"></mat-datepicker>
                         </mat-form-field>
                         <mat-form-field class="sm:col-span-3">
                              <mat-label>{{ t("phoneNumber") }}</mat-label>
                              <input id="phoneNumber" matInput [formControlName]="'phoneNumber'" />
                              <mat-error style="font-size: 12px" *ngIf="formErrors.phoneNumber">
                                   {{ formErrors.phoneNumber }}
                              </mat-error>
                         </mat-form-field>
                         <button
                              class="fuse-mat-button-large w-full mt-6 mr-auto rounded-3xl"
                              mat-flat-button
                              [color]="'primary'"
                              [disabled]="profileForm.disabled"
                              (click)="save()">
                              <span *ngIf="!profileForm.disabled">{{ t("saveInfo") }}</span>
                              <mat-progress-spinner *ngIf="profileForm.disabled" [diameter]="24" [mode]="'indeterminate'"></mat-progress-spinner>
                         </button>
                    </form>
               </ng-container>
               <ng-container *ngIf="selectedPanel === 'cvs'">
                    <h2 class="text-base font-semibold leading-7 text-gray-900">{{ t("myCvs") }}</h2>
                    <app-my-cvs></app-my-cvs>
               </ng-container>
               <ng-container *ngIf="selectedPanel === 'jobs'">
                    <h2 class="text-base font-semibold leading-7 text-gray-900">{{ t("myPostedJobs") }}</h2>
                    <app-jobs-list></app-jobs-list>
               </ng-container>
               <ng-container *ngIf="selectedPanel === 'add-jobs'">
                    <app-jobs-single-page class="w-full" [data]="singleJobData"></app-jobs-single-page>
               </ng-container>

               <ng-container *ngIf="selectedPanel === 'projects'">
                    <h2 class="text-base font-semibold leading-7 text-gray-900 mb-4">{{ t("myProjects") }}</h2>
                    <app-my-projects [projects]="projects"></app-my-projects>
               </ng-container>

               <ng-container *ngIf="selectedPanel === 'tenders'">
                    <h2 class="text-base font-semibold leading-7 text-gray-900 mb-4">{{ t("myTenders") }}</h2>
                    <app-my-tenders [tenders]="tenders"></app-my-tenders>
               </ng-container>
          </div>
     </main>
</div>
